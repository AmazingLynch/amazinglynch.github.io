{"componentChunkName":"component---src-templates-blog-post-js","path":"/why-bundle-your-package/","result":{"data":{"site":{"siteMetadata":{"title":"Colgin's Blog"}},"markdownRemark":{"id":"99c9c0f7-1fa0-58cb-82f2-cc66772fc02b","excerpt":"对于库作者来说，你为什么要打包你的package这个问题听起来很刺耳，因为好像这个问题挺怪的，因为大家看到的实践就是，写库的时候，用rollup打包一下，然后把打包后的文件放到package.json里的module或者main字段，大家都这么做，所以我也这么做，但是真的是这样吗？ 打包做了什么，\nWhy bundle…","html":"<p>对于库作者来说，你为什么要打包你的package这个问题听起来很刺耳，因为好像这个问题挺怪的，因为大家看到的实践就是，写库的时候，用rollup打包一下，然后把打包后的文件放到package.json里的module或者main字段，大家都这么做，所以我也这么做，但是真的是这样吗？<!-- more --></p>\n<p>打包做了什么，\nWhy bundle Node.js packages?\nESM and CommonJS outputs</p>\n<p>As the Node.js ecosystem migrates to ESM, there will be both ESM and CommonJS users. A bundler helps accommodate both distribution types.  and unnecessary files (eg. README.md, package.json, etc.) from getting downloaded.</p>\n<p>Removing dependencies also eliminates dependency tree traversal, which is one of the biggest bottlenecks.</p>\n<p>Inadvertent breaking changes</p>\n<p>Dependencies can introduce breaking changes due to a discrepancy in environment support criteria, by accident, or in rare circumstances, maliciously.</p>\n<p>Compiling dependencies will make sure new syntax &#x26; features are downgraded to support the same environments. And also prevent any unexpected changes from sneaking in during installation.</p>\n<p>Type dependencies must be declared in the dependencies object in package.json for it to be resolved by the consumer.</p>\n<p>This can be unintuitive because types are a development enhancement and also adds installation bloat. Bundling filters out unused types and allows type dependencies to be declared in devDependencies.</p>\n<p>Minification strips dead-code, comments, white-space, and shortens variable names.</p>","frontmatter":{"title":"你为什么打包你的库","date":"May 03, 2022","description":"不打包不行吗？"}},"previous":{"fields":{"slug":"/module-field-in-package-json/"},"frontmatter":{"title":"package.json中的module字段"}},"next":{"fields":{"slug":"/vue-bundle/"},"frontmatter":{"title":"vue如何打包分发代码"}}},"pageContext":{"id":"99c9c0f7-1fa0-58cb-82f2-cc66772fc02b","previousPostId":"e57eacc6-237e-5034-8e2b-ecf1b641fa63","nextPostId":"cda5a50a-b9f7-559e-a9d0-ab2c50c57d36"}},"staticQueryHashes":["2841359383","3257411868"]}